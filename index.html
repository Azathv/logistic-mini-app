<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>YuklaGo</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  background:#0f0f0f;
  color:white;
  font-family:Arial, sans-serif;
  padding:14px;
  margin:0;
}

.header {
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:14px;
}
.header img {
  width:40px;
  height:40px;
  border-radius:50%;
}
.hello {
  font-size:16px;
  font-weight:600;
}

.tabs {
  display:flex;
  gap:6px;
  margin-bottom:12px;
}
.tab {
  flex:1;
  padding:10px;
  text-align:center;
  border-radius:10px;
  background:#1c1c1c;
  font-size:14px;
  cursor:pointer;
}
.tab.active {
  background:#2ea6ff;
}

button {
  width:100%;
  padding:16px;
  margin:8px 0;
  font-size:16px;
  font-weight:600;
  background:#2ea6ff;
  color:white;
  border:none;
  border-radius:14px;
}

input, select {
  width:100%;
  padding:12px;
  margin:6px 0;
  border-radius:10px;
  border:none;
  font-size:15px;
}

.card {
  background:#1c1c1c;
  padding:12px;
  margin-top:10px;
  border-radius:12px;
}

.hidden { display:none; }
</style>
</head>

<body>

<div class="header">
  <img id="avatar">
  <div class="hello" id="hello">Salom</div>
</div>

<div class="tabs">
  <div class="tab active">ğŸš— Yengil</div>
  <div class="tab">ğŸš Oâ€˜rta</div>
  <div class="tab">ğŸšš Ogâ€˜ir</div>
</div>

<div id="home">
  <button onclick="openAdd()">â• Yuk joylash</button>
</div>

<div id="add" class="hidden">

  <select id="category">
    <option value="yengil">ğŸš— Yengil</option>
    <option value="orta">ğŸš Oâ€˜rta</option>
    <option value="ogir">ğŸšš Ogâ€˜ir</option>
  </select>

  <div class="card">
    <b>ğŸ“ Qayerdan</b>
    <select id="fromRegion" onchange="updateDistrict('from')"></select>
    <select id="fromDistrict"></select>
  </div>

  <div class="card">
    <b>ğŸ¯ Qayerga</b>
    <select id="toRegion" onchange="updateDistrict('to')"></select>
    <select id="toDistrict"></select>
  </div>

  <input id="weight" placeholder="Yuk (masalan: 3 tonna)">
  <input type="file" id="image">
  <input id="contact" placeholder="Telegram yoki telefon">

  <button>Saqlash</button>
  <button onclick="back()">â† Orqaga</button>
</div>

<script>
/* TELEGRAM USER */
if (window.Telegram?.WebApp) {
  Telegram.WebApp.expand();
  const u = Telegram.WebApp.initDataUnsafe.user;
  if (u) {
    hello.innerText = "Salom, " + u.first_name;
    if (u.photo_url) avatar.src = u.photo_url;
    if (u.username) contact.value = "@" + u.username;
  }
}

/* HUDUDLAR */
const regions = {
  "Toshkent shahri": ["Bektemir","Chilonzor","Mirobod","Mirzo Ulugâ€˜bek","Olmazor","Sergeli","Shayxontohur","Uchtepa","Yakkasaroy","Yunusobod","Yashnobod"],
  "Toshkent viloyati": ["Bekobod","Boâ€˜ka","Boâ€˜stonliq","Chinoz","Qibray","Ohangaron","Parkent","Yangiyoâ€˜l","Zangiota","Chirchiq shahri","Angren shahri"],
  "Samarqand viloyati": ["Bulungâ€˜ur","Ishtixon","Jomboy","Kattaqoâ€˜rgâ€˜on","Narpay","Urgut","Samarqand shahri"],
  "Andijon viloyati": ["Andijon","Asaka","Baliqchi","Marhamat","Shahrixon","Xoâ€˜jaobod","Andijon shahri"],
  "Fargâ€˜ona viloyati": ["Bagâ€˜dod","Beshariq","Dangâ€˜ara","Quva","Rishton","Fargâ€˜ona shahri","Qoâ€˜qon shahri"]
};

/* INIT SELECT */
function initRegions() {
  ["from","to"].forEach(t=>{
    const r = document.getElementById(t+"Region");
    r.innerHTML = Object.keys(regions).map(v=>`<option>${v}</option>`).join("");
    updateDistrict(t);
  });
}

function updateDistrict(type) {
  const r = document.getElementById(type+"Region").value;
  const d = document.getElementById(type+"District");
  d.innerHTML = regions[r].map(x=>`<option>${x}</option>`).join("");
}

initRegions();

/* UI */
function openAdd() {
  home.classList.add("hidden");
  add.classList.remove("hidden");
}
function back() {
  add.classList.add("hidden");
  home.classList.remove("hidden");
}
</script>

</body>
</html>
